<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
</head>
<body>
  <h1>Benvenuto nella mia app Express!</h1>
  <p>Questa Ã¨ una semplice pagina HTML servita da Express.</p>
  <input type="text" id="inputUrl">
  <input type="text" id="inputhttpMethod">
  
  <button id="bottonerichiesta">Fai Richiesta al server</button>
  
  <script type="module">
    
    import { POST_MACROREQUEST } from '/requestOptions.js';

    document.getElementById('inputUrl').value = POST_MACROREQUEST.url;
    document.getElementById('inputhttpMethod').value= POST_MACROREQUEST.options.method;

    document.getElementById('bottonerichiesta').addEventListener('click', () => {
      const url = document.getElementById('inputUrl').value;
      const met = document.getElementById('inputhttpMethod').value 
      console.log(`bottone premuto con URL: ${url} e method: ${met}`);
      
      fetch(url, POST_MACROREQUEST.options)
        .then(response => response.json())
        .then(data => console.log(data))  
        .catch(err => console.log('ERRORE: ', err));
    });

  </script>
</body>
</html>
